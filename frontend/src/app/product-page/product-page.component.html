<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Product Page</title>
  <link rel="stylesheet" href="/styles.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide-icons"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"/>
</head>

<body class="font-inter bg-gray-50 text-gray-900">
  <app-nav></app-nav>

  <div class="max-w-7xl mx-auto px-4 md:px-8 py-8 min-h-screen">
    <!-- Breadcrumb -->
    <nav class="mb-6 text-sm text-gray-600 flex items-center gap-2" *ngIf="product">
      <a href="/" class="hover:text-gray-900">Home</a>
      <span>></span>
      <span class="font-semibold">{{product.title}}</span>
    </nav>

    <div class="flex flex-col gap-10" *ngIf="product">
      <!-- Product Content -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-10">
        <!-- Image Gallery -->
        <div class="flex gap-4">
          <div class="hidden md:flex flex-col gap-2">
            <button 
              *ngFor="let image of product.images; let i = index"
              class="w-20 h-20 rounded-lg overflow-hidden border-2 transition-all hover:scale-105"
              [class.border-gray-300]="selectedImageIndex === i"
              [class.border-gray-200]="selectedImageIndex !== i"
              (click)="selectImage(i)">
              <img [src]="image" [alt]="product.title + ' thumbnail'" class="w-full h-full object-cover" />
            </button>
          </div>
          <div class="flex-1">
            <img 
              [src]="product.images[selectedImageIndex]" 
              [alt]="product.title" 
              class="w-full rounded-xl object-cover aspect-[4/3] shadow-md transition-all duration-300" />
          </div>
        </div>

        <!-- Product Info -->
        <div class="flex flex-col gap-6">
          <div>
            <h1 class="text-4xl font-bold mb-2">{{product.title}}</h1>
            <div class="flex items-center gap-3 mb-4">
              <span class="text-2xl font-bold text-[#8B1F41]">{{product.price}} E.P</span>
              <span class="bg-green-100 text-green-800 text-sm font-medium px-2 py-1 rounded-full">In Stock</span>
            </div>

            <!-- Description Section -->
            <p class="text-gray-600 text-base leading-relaxed mb-4">
              {{product.description}}
            </p>

            <hr class="border-gray-200 mb-4" />

            <!-- Seller Section -->
            <div class="mx-auto bg-white p-6 rounded-xl shadow-md w-full md:w-3/4">
              <div class="flex items-center gap-4">
                <div class="w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center text-gray-600">
                  <i class="fas fa-user"></i>
                </div>
                <div>
                  <h2 class="font-semibold text-lg text-gray-900">{{product.seller.username}}</h2>
                  <p class="text-sm text-gray-500">Verified Seller</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Actions -->
          <div class="flex gap-4">
            <button 
              class="flex-1 bg-[#8B1F41] text-white py-3 px-6 rounded-lg shadow hover:bg-[#7A1B39] transition font-medium"
              (click)="addToCart()">
              <i class="fas fa-shopping-cart mr-2"></i> Add to Cart
            </button>
            <button class="p-3 border rounded-lg hover:bg-gray-100 transition flex items-center gap-2 text-gray-700">
              <i class="fas fa-heart"></i>
              <span class="hidden md:inline">Wishlist</span>
            </button>
          </div>
        </div>
      </div>

      <!-- Ratings Section -->
      <div class="border rounded-xl p-6 bg-white shadow-sm mt-10 w-full">
        <h2 class="text-xl font-semibold mb-4 text-gray-800">Ratings & Reviews</h2>
        <div class="flex items-center gap-2">
          <span class="text-2xl font-bold text-[#8B1F41]">ahla shoghl</span>
          <span class="text-sm text-gray-500">(5 reviews)</span>
        </div>
      </div>
    </div>

    <!-- Loading state -->
    <div *ngIf="!product" class="flex justify-center items-center min-h-[400px]">
      <p>Loading product details...</p>
    </div>
  </div>

  <app-footer></app-footer>
</body>
</html>
